---
// Header.astro
import { Image } from "astro:assets";

const navItems = [
    { href: "/", text: "Inicio" },
    { href: "/productos", text: "Productos" },
    { href: "/servicios", text: "Servicios" },
    { href: "/contacto", text: "Contacto" },
];
---

<header
    id="main-header"
    class="fixed w-full transition-all duration-300 z-50 bg-transparent text-white"
>
    <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
        <a href="/" class="flex items-center">
            <Image
                src="/assets/images/yamaha-logo.svg"
                alt="Yamaha Logo"
                width={224}
                height={224}
                class="h-8 w-auto"
            />
        </a>
        <div class="hidden md:flex space-x-6">
            {
                navItems.map(({ href, text }) => (
                    <a
                        href={href}
                        class="text-lg font-medium hover:text-gray-300 transition-colors"
                    >
                        {text}
                    </a>
                ))
            }
        </div>
        <button id="mobile-menu-button" class="md:hidden text-2xl">
            menu
        </button>
    </nav>
    <div id="mobile-menu" class="hidden md:hidden bg-white text-gray-800 p-4">
        {
            navItems.map(({ href, text }) => (
                <a
                    href={href}
                    class="block py-2 text-lg font-medium hover:text-gray-600 transition-colors"
                >
                    {text}
                </a>
            ))
        }
    </div>
</header>

<script>
    function updateHeaderOnScroll() {
        const header = document.getElementById("main-header");
        if (window.scrollY > 50) {
            header.classList.add(
                "bg-white",
                "bg-opacity-90",
                "shadow-md",
                "text-gray-800",
            );
            header.classList.remove("bg-transparent", "text-white");
        } else {
            header.classList.remove(
                "bg-white",
                "bg-opacity-90",
                "shadow-md",
                "text-gray-800",
            );
            header.classList.add("bg-transparent", "text-white");
        }
    }

    function toggleMobileMenu() {
        const mobileMenu = document.getElementById("mobile-menu");
        mobileMenu.classList.toggle("hidden");
    }

    document.addEventListener("scroll", updateHeaderOnScroll);
    document
        .getElementById("mobile-menu-button")
        .addEventListener("click", toggleMobileMenu);

    updateHeaderOnScroll();
</script>

<style>
    @media (max-width: 768px) {
        #mobile-menu {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            z-index: 40;
        }
    }
</style>
